function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}!function(t,e){"use strict";var a=function(){function a(t,e){_classCallCheck(this,a),this.form=t,this.inputSubject=this.form.querySelector("#jform_subject"),this.inputBody=this.form.querySelector("#jform_body"),this.inputHtmlBody=this.form.querySelector("#jform_htmlbody"),this.templateData=e&&e.templateData?e.templateData:{},this.form.EmailTemplateEdit=this}return _createClass(a,[{key:"setBodyValue",value:function(t){this.inputBody.disabled||(e.editors.instances[this.inputBody.id]?e.editors.instances[this.inputBody.id].setValue(t):this.inputBody.value=t)}},{key:"setHtmlBodyValue",value:function(t){this.inputHtmlBody.disabled||(e.editors.instances[this.inputHtmlBody.id]?e.editors.instances[this.inputHtmlBody.id].setValue(t):this.inputHtmlBody.value=t)}},{key:"insertTag",value:function(t,a){if(!t)return!1;var i;switch(a){case"body":i=this.inputBody;break;case"htmlbody":i=this.inputHtmlBody;break;default:return!1}return!i.disabled&&(e.editors.instances[i.id]?e.editors.instances[i.id].replaceSelection(t):i.value+=" ".concat(t),!0)}},{key:"bindListeners",value:function(){var a=this,i=t.querySelectorAll('input[type=radio][name="jform[subject_switcher]"]'),n=t.querySelectorAll('input[type=radio][name="jform[body_switcher]"]'),o=t.querySelectorAll('input[type=radio][name="jform[htmlbody_switcher]"]'),r=function(t){var e=t.target;"0"===e.value?(a.inputSubject.disabled=!0,a.inputSubject.value=a.templateData.subject?a.templateData.subject.master:""):"1"===e.value?(a.inputSubject.disabled=!1,a.inputSubject.value=a.templateData.subject?a.templateData.subject.translated:""):console.error("unrecognised value")};Array.prototype.forEach.call(i,(function(t){t.addEventListener("change",r)}));var l=function(t){var e=t.target,i=a.form.querySelector(".tags-container-body");"0"===e.value?(a.setBodyValue(a.templateData.body?a.templateData.body.master:""),a.inputBody.disabled=!0,i.classList.add("hidden")):"1"===e.value?(a.inputBody.disabled=!1,a.inputBody.readOnly=!1,a.setBodyValue(a.templateData.body?a.templateData.body.translated:""),i.classList.remove("hidden")):console.error("unrecognised value")};Array.prototype.forEach.call(n,(function(t){t.addEventListener("change",l)}));var s=function(t){var i=t.target,n=a.form.querySelector(".tags-container-htmlbody");"0"===i.value?(a.setHtmlBodyValue(a.templateData.htmlbody?a.templateData.htmlbody.master:""),a.inputHtmlBody.disabled=!0,e.editors.instances[a.inputHtmlBody.id].disable(!0),n.classList.add("hidden")):"1"===i.value?(e.editors.instances[a.inputHtmlBody.id].disable(!1),a.inputHtmlBody.disabled=!1,a.inputHtmlBody.readOnly=!1,a.setHtmlBodyValue(a.templateData.htmlbody?a.templateData.htmlbody.translated:""),n.classList.remove("hidden")):console.error("unrecognised value")};Array.prototype.forEach.call(o,(function(t){t.addEventListener("change",s)})),this.form.querySelectorAll(".edit-action-add-tag").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var e=t.target;a.insertTag(e.dataset.tag,e.dataset.target)}))}))}}]),a}();t.addEventListener("DOMContentLoaded",(function(){new a(t.getElementById("item-form"),e.getOptions("com_mails")).bindListeners()}))}(document,Joomla);