((e,l)=>{"use strict";e.localStorageEnabled=()=>{const e="joomla-cms";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}};l.querySelectorAll("ul.main-nav").forEach((e=>{new MetisMenu(e)}));const o=l.getElementById("wrapper"),t=l.getElementById("sidebar-wrapper"),a=l.getElementById("menu-collapse-icon");if(e.localStorageEnabled()){const l=localStorage.getItem("atum-sidebar");"open"===l||null===l?(o.classList.remove("closed"),a.classList.remove("icon-toggle-off"),a.classList.add("icon-toggle-on"),localStorage.setItem("atum-sidebar","open"),e.Event.dispatch("joomla:menu-toggle","open")):(o.classList.add("closed"),a.classList.remove("icon-toggle-on"),a.classList.add("icon-toggle-off"),localStorage.setItem("atum-sidebar","closed"),e.Event.dispatch("joomla:menu-toggle","closed"))}if(t||o.classList.remove("closed"),t&&!t.getAttribute("data-hidden")){const s=l.getElementById("menu-collapse");[].slice.call(t.querySelectorAll(".collapse-level-1")).forEach((e=>{[].slice.call(e.querySelectorAll(".collapse-level-1")).forEach((e=>{e&&(e.classList.remove("collapse-level-1"),e.classList.add("collapse-level-2"))}))}));const c=()=>{t.querySelector(".mm-collapse").classList.remove("mm-collapsed")};s.addEventListener("click",(()=>{o.classList.toggle("closed"),a.classList.toggle("icon-toggle-on"),a.classList.toggle("icon-toggle-off");[].slice.call(l.querySelectorAll(".main-nav > li")).forEach((e=>{e.classList.remove("open")}));const t=l.querySelector(".child-open");t&&t.classList.remove("child-open");const s=e.localStorageEnabled();o.classList.contains("closed")?(s&&localStorage.setItem("atum-sidebar","closed"),e.Event.dispatch("joomla:menu-toggle","closed")):(s&&localStorage.setItem("atum-sidebar","open"),e.Event.dispatch("joomla:menu-toggle","open"))}));const n=o.querySelectorAll("a.no-dropdown, a.collapse-arrow, .menu-dashboard > a"),r=window.location.href,i=l.querySelector("ul.main-nav"),d=[].slice.call(i.querySelectorAll("li.parent > a")),m=[].slice.call(i.querySelectorAll("li.parent .close"));n.forEach((e=>{if(r===e.href&&(e.setAttribute("aria-current","page"),e.classList.add("mm-active"),!e.parentNode.classList.contains("parent"))){const l=e.closest(".collapse-level-1"),o=e.closest(".collapse-level-2");l&&l.parentNode.classList.add("mm-active"),l&&l.classList.add("mm-show"),o&&o.parentNode.classList.add("mm-active"),o&&o.classList.add("mm-show")}}));const g=({currentTarget:l})=>{let t=l.parentNode;if("span"===t.tagName.toLowerCase()&&(t=l.parentNode.parentNode),t.classList.contains("open"))i.classList.remove("child-open"),t.classList.remove("open");else{[].slice.call(t.parentNode.children).forEach((e=>{e.classList.remove("open")})),o.classList.remove("closed"),localStorage.setItem("atum-sidebar","open"),a.classList.contains("icon-toggle-off")&&(a.classList.toggle("icon-toggle-off"),a.classList.toggle("icon-toggle-on")),i.classList.add("child-open"),t.parentNode.classList.contains("main-nav")&&t.classList.add("open")}e.Event.dispatch("joomla:menu-toggle","open")};d.forEach((e=>{e.addEventListener("click",g),e.addEventListener("keyup",g)})),m.forEach((e=>{e.addEventListener("click",(()=>{[].slice.call(i.querySelectorAll(".open")).forEach((e=>{e.classList.remove("open")})),i.classList.remove("child-open")}))}));[].slice.call(t.querySelectorAll('ul[role="menubar"] li')).forEach((e=>{e.addEventListener("keyup",(e=>{32!==e.keyCode&&13!==e.keyCode||e.target.querySelector("a").click()}))})),e.localStorageEnabled()&&"true"===localStorage.getItem("adminMenuState")&&c()}})(window.Joomla,document);