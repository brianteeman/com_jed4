((e,l)=>{e.localStorageEnabled=()=>{const e="joomla-cms";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}};l.querySelectorAll("ul.main-nav").forEach((e=>{new MetisMenu(e)}));const o=l.getElementById("wrapper"),t=l.getElementById("sidebar-wrapper"),a=l.getElementById("menu-collapse-icon");if(e.localStorageEnabled()){const e=localStorage.getItem("atum-sidebar");"open"===e||null===e?(o.classList.remove("closed"),a.classList.remove("icon-toggle-off"),a.classList.add("icon-toggle-on"),localStorage.setItem("atum-sidebar","open"),window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:"open",bubbles:!0,cancelable:!0}))):(o.classList.add("closed"),a.classList.remove("icon-toggle-on"),a.classList.add("icon-toggle-off"),localStorage.setItem("atum-sidebar","closed"),window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:"closed",bubbles:!0,cancelable:!0})))}if(t||o.classList.remove("closed"),t&&!t.getAttribute("data-hidden")){const s=l.getElementById("menu-collapse");[].slice.call(t.querySelectorAll(".collapse-level-1")).forEach((e=>{[].slice.call(e.querySelectorAll(".collapse-level-1")).forEach((e=>{e&&(e.classList.remove("collapse-level-1"),e.classList.add("collapse-level-2"))}))}));const c=()=>{t.querySelector(".mm-collapse").classList.remove("mm-collapsed")};s.addEventListener("click",(t=>{t.preventDefault(),o.classList.toggle("closed"),a.classList.toggle("icon-toggle-on"),a.classList.toggle("icon-toggle-off");[].slice.call(l.querySelectorAll(".main-nav > li")).forEach((e=>{e.classList.remove("open")}));const s=l.querySelector(".child-open");s&&s.classList.remove("child-open");const c=e.localStorageEnabled();o.classList.contains("closed")?(c&&localStorage.setItem("atum-sidebar","closed"),window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:"closed",bubbles:!0,cancelable:!0}))):(c&&localStorage.setItem("atum-sidebar","open"),window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:"open",bubbles:!0,cancelable:!0})))}));const n=o.querySelectorAll("a.no-dropdown, a.collapse-arrow, .menu-dashboard > a"),i=window.location.href,r=l.querySelector("ul.main-nav"),d=[].slice.call(r.querySelectorAll("li.parent > a")),m=[].slice.call(r.querySelectorAll("li.parent .close"));n.forEach((e=>{if(i===e.href&&(e.setAttribute("aria-current","page"),e.classList.add("mm-active"),!e.parentNode.classList.contains("parent"))){const l=e.closest(".collapse-level-1"),o=e.closest(".collapse-level-2");l&&l.parentNode.classList.add("mm-active"),l&&l.classList.add("mm-show"),o&&o.parentNode.classList.add("mm-active"),o&&o.classList.add("mm-show")}}));const g=({currentTarget:e})=>{let l=e.parentNode;if("span"===l.tagName.toLowerCase()&&(l=e.parentNode.parentNode),l.classList.contains("open"))r.classList.remove("child-open"),l.classList.remove("open");else{[].slice.call(l.parentNode.children).forEach((e=>{e.classList.remove("open")})),o.classList.remove("closed"),localStorage.setItem("atum-sidebar","open"),a.classList.contains("icon-toggle-off")&&(a.classList.toggle("icon-toggle-off"),a.classList.toggle("icon-toggle-on")),r.classList.add("child-open"),l.parentNode.classList.contains("main-nav")&&l.classList.add("open")}window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:"open",bubbles:!0,cancelable:!0}))};d.forEach((e=>{e.addEventListener("click",g),e.addEventListener("keyup",g)})),m.forEach((e=>{e.addEventListener("click",(()=>{[].slice.call(r.querySelectorAll(".open")).forEach((e=>{e.classList.remove("open")})),r.classList.remove("child-open")}))})),e.localStorageEnabled()&&"true"===localStorage.getItem("adminMenuState")&&c()}})(window.Joomla,document);