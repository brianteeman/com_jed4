Joomla=window.Joomla||{},function(e,t){"use strict";t.extractionMethodHandler=function(t,a){var i=[a+"_hostname",a+"_port",a+"_username",a+"_password",a+"_directory"];"direct"===t.value?i.map(t=>e.getElementById(t).classList.add("hidden")):i.map(t=>e.getElementById(t).classList.remove("hidden"))},t.submitbuttonUpload=function(){var a=e.getElementById("uploadForm");""==a.install_package.value?alert(t.JText._("COM_INSTALLER_MSG_INSTALL_PLEASE_SELECT_A_PACKAGE"),!0):a.install_package.files[0].size>a.max_upload_size.value?alert(t.JText._("COM_INSTALLER_MSG_WARNINGS_UPLOADFILETOOBIG"),!0):a.submit()},t.installpackageChange=function(){var a=e.getElementById("uploadForm"),i=a.install_package.files[0].size,n=1*i/1024/1024,s=e.getElementById("file_size"),o=e.getElementById("max_upload_size_warn");""==a.install_package.value?(s.classList.add("hidden"),o.classList.add("hidden")):i&&(s.classList.remove("hidden"),s.innerHTML=t.JText._("JGLOBAL_SELECTED_UPLOAD_FILE_SIZE").replace("%s",n.toFixed(2)+" MB"),i>a.max_upload_size.value?o.classList.remove("hidden"):o.classList.add("hidden"))},e.addEventListener("DOMContentLoaded",function(){var a=e.getElementById("extraction_method"),i=e.getElementById("upload_method"),n=e.getElementById("uploadButton"),s=e.getElementById("downloadMessage");a&&a.addEventListener("change",function(){t.extractionMethodHandler(a,"row_ftp")}),i&&i.addEventListener("change",function(){t.extractionMethodHandler(i,"upload_ftp")}),n&&n.addEventListener("click",function(){s&&s.classList.remove("hidden")})})}(document,Joomla),function(e,t){var a={};a.config={serverUrl:"index.php?option=com_joomlaupdate&task=update.fetchextensioncompatibility",selector:".extension-check"},a.STATE={INCOMPATIBLE:0,COMPATIBLE:1,MISSING_COMPATIBILITY_TAG:2,SERVER_ERROR:3},a.run=function(){a.joomlaTargetVersion=e.getElementById("joomlaupdate-wrapper").getAttribute("data-joomla-target-version"),a.joomlaCurrentVersion=e.getElementById("joomlaupdate-wrapper").getAttribute("data-joomla-current-version"),$(".compatibilitytypes img").css("height","20px"),$(".compatibilitytypes").css("display","none").css("margin-left",0),$("#compatibilitytype0").css("display","block"),$(".compatibilitytoggle").css("float","right").css("cursor","pointer"),$(".compatibilitytoggle").on("click",function(e,t){var i=$(this).closest("fieldset.compatibilitytypes");"closed"==$(this).data("state")?($(this).data("state","open"),$(this).html(COM_JOOMLAUPDATE_VIEW_DEFAULT_SHOW_LESS_EXTENSION_COMPATIBILITY_INFORMATION),i.find(".exname").removeClass("span8").addClass("span4"),i.find(".extype").removeClass("span4").addClass("span2"),i.find(".upcomp").removeClass("hidden").addClass("span2"),i.find(".currcomp").removeClass("hidden").addClass("span2"),i.find(".instver").removeClass("hidden").addClass("span2"),a.showyellowwarning&&i.find("#updateyellowwarning").removeClass("hidden"),a.showorangewarning&&i.find("#updateorangewarning").removeClass("hidden")):($(this).data("state","closed"),$(this).html(COM_JOOMLAUPDATE_VIEW_DEFAULT_SHOW_MORE_EXTENSION_COMPATIBILITY_INFORMATION),i.find(".exname").addClass("span8").removeClass("span4"),i.find(".extype").addClass("span4").removeClass("span2"),i.find(".upcomp").addClass("hidden").removeClass("span2"),i.find(".currcomp").addClass("hidden").removeClass("span2"),i.find(".instver").addClass("hidden").removeClass("span2"),i.find("#updateyellowwarning").addClass("hidden"),i.find("#updateorangewarning").addClass("hidden"))}),[].slice.call(e.querySelectorAll(a.config.selector)).forEach(function(e){a.checkCompatibility(e,a.setResultView)})},a.checkCompatibility=function(e,i){var n={element:e,compatibleVersion:0,serverError:1};t.request({url:a.config.serverUrl+"&joomla-target-version="+encodeURIComponent(a.joomlaTargetVersion)+"joomla-current-version="+a.joomlaCurrentVersion+"extension-version="+e.data("extension-current-version")+"&extension-id="+encodeURIComponent(e.getAttribute("data-extension-id")),onSuccess(e){var t=JSON.parse(e);n.serverError=0,n.compatibilityData=t.data,i(n)},onError(){i(n)}})},a.setResultView=function(i){var n="";void 0!==e.dir?e.dir:e.getElementsByTagName("html")[0].getAttribute("dir");if(i.serverError)n=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_SERVER_ERROR");else switch(i.compatibilityData.upgradeCompatibilityStatus.state){case a.STATE.COMPATIBLE:i.compatibilityData.upgradeWarning?(n='<span class="label label-warning">'+i.compatibilityData.upgradeCompatibilityStatus.compatibleVersion+"</span>",a.showyellowwarning=!0):n=0==i.compatibilityData.upgradeCompatibilityStatus.compatibleVersion?t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION"):i.compatibilityData.upgradeCompatibilityStatus.compatibleVersion;break;case a.STATE.INCOMPATIBLE:case a.STATE.MISSING_COMPATIBILITY_TAG:n=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION"),a.showorangewarning=!0;break;default:n=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")}if(i.element.innerHTML=n,n="",i.serverError)n=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_SERVER_ERROR");else switch(i.compatibilityData.currentCompatibilityStatus.state){case a.STATE.COMPATIBLE:n=0==i.compatibilityData.currentCompatibilityStatus.compatibleVersion?t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION"):i.compatibilityData.currentCompatibilityStatus.compatibleVersion;break;case a.STATE.INCOMPATIBLE:case a.STATE.MISSING_COMPATIBILITY_TAG:n=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION");break;default:n=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")}var s=i.$element.data("extensionId");e.getElementById("available-version-"+s).innerHTML=n,i.$element.closest("tr").appendTo($("#compatibilitytype"+i.compatibilityData.resultGroup+" tbody")),$("#compatibilitytype"+i.compatibilityData.resultGroup).css("display","block"),e.getElementById("compatibilitytype0").style.display="block",0==$("#compatibilitytype0 tbody td").length&&$("#compatibilitytype0").css("display","none")},e.addEventListener("DOMContentLoaded",a.run,!1)}(document,Joomla);