Joomla=window.Joomla||{},function(e,t){"use strict";t.extractionMethodHandler=function(t,a){var i=[a+"_hostname",a+"_port",a+"_username",a+"_password",a+"_directory"];"direct"===t.value?i.map((t=>e.getElementById(t).classList.add("hidden"))):i.map((t=>e.getElementById(t).classList.remove("hidden")))},t.submitbuttonUpload=function(){var a=e.getElementById("uploadForm");""==a.install_package.value?alert(t.JText._("COM_INSTALLER_MSG_INSTALL_PLEASE_SELECT_A_PACKAGE"),!0):a.install_package.files[0].size>a.max_upload_size.value?alert(t.JText._("COM_INSTALLER_MSG_WARNINGS_UPLOADFILETOOBIG"),!0):a.submit()},t.installpackageChange=function(){var a=e.getElementById("uploadForm"),i=a.install_package.files[0].size,o=1*i/1024/1024,l=e.getElementById("file_size"),n=e.getElementById("max_upload_size_warn");""==a.install_package.value?(l.classList.add("hidden"),n.classList.add("hidden")):i&&(l.classList.remove("hidden"),l.innerHTML=t.JText._("JGLOBAL_SELECTED_UPLOAD_FILE_SIZE").replace("%s",o.toFixed(2)+" MB"),i>a.max_upload_size.value?n.classList.remove("hidden"):n.classList.add("hidden"))},e.addEventListener("DOMContentLoaded",(function(){var a=e.getElementById("extraction_method"),i=e.getElementById("upload_method"),o=e.getElementById("uploadButton"),l=e.getElementById("downloadMessage");a&&a.addEventListener("change",(function(){t.extractionMethodHandler(a,"row_ftp")})),i&&i.addEventListener("change",(function(){t.extractionMethodHandler(i,"upload_ftp")})),o&&o.addEventListener("click",(function(){l&&l.classList.remove("hidden")}))}))}(document,Joomla),function(e,t){var a={};a.config={serverUrl:"index.php?option=com_joomlaupdate&task=update.fetchextensioncompatibility",selector:".extension-check"},a.STATE={INCOMPATIBLE:0,COMPATIBLE:1,MISSING_COMPATIBILITY_TAG:2,SERVER_ERROR:3},a.run=function(){a.joomlaTargetVersion=e.getElementById("joomlaupdate-wrapper").getAttribute("data-joomla-target-version"),a.joomlaCurrentVersion=e.getElementById("joomlaupdate-wrapper").getAttribute("data-joomla-current-version"),$(".compatibilitytypes img").css("height","20px"),[].slice.call(e.querySelectorAll(".compatibilitytypes")).forEach((e=>{e.style.display="none",e.style.marginLeft=0})),e.getElementById("compatibilitytype0").style.display="block",[].slice.call(e.querySelectorAll(".compatibilitytoggle")).forEach((e=>{e.style.float="right",e.style.cursor="pointer"})),$(".compatibilitytoggle").on("click",(function(e,t){var i=$(this).closest("fieldset.compatibilitytypes");"closed"==$(this).data("state")?($(this).data("state","open"),$(this).html(COM_JOOMLAUPDATE_VIEW_DEFAULT_SHOW_LESS_EXTENSION_COMPATIBILITY_INFORMATION),i.find(".exname").removeClass("col-md-8").addClass("col-md-4"),i.find(".extype").removeClass("col-md-4").addClass("col-md-2"),i.find(".upcomp").removeClass("hidden").addClass("col-md-2"),i.find(".currcomp").removeClass("hidden").addClass("col-md-2"),i.find(".instver").removeClass("hidden").addClass("col-md-2"),a.showyellowwarning&&i.find("#updateyellowwarning").removeClass("hidden"),a.showorangewarning&&i.find("#updateorangewarning").removeClass("hidden")):($(this).data("state","closed"),$(this).html(COM_JOOMLAUPDATE_VIEW_DEFAULT_SHOW_MORE_EXTENSION_COMPATIBILITY_INFORMATION),i.find(".exname").addClass("col-md-8").removeClass("col-md-4"),i.find(".extype").addClass("col-md-4").removeClass("col-md-2"),i.find(".upcomp").addClass("hidden").removeClass("col-md-2"),i.find(".currcomp").addClass("hidden").removeClass("col-md-2"),i.find(".instver").addClass("hidden").removeClass("col-md-2"),i.find("#updateyellowwarning").addClass("hidden"),i.find("#updateorangewarning").addClass("hidden"))})),[].slice.call(e.querySelectorAll(a.config.selector)).forEach((function(e){a.checkCompatibility(e,a.setResultView)}))},a.checkCompatibility=function(e,i){var o={element:e,compatibleVersion:0,serverError:1};t.request({url:a.config.serverUrl+"&joomla-target-version="+encodeURIComponent(a.joomlaTargetVersion)+"joomla-current-version="+a.joomlaCurrentVersion+"extension-version="+e.getAttribute("data-extension-current-version")+"&extension-id="+encodeURIComponent(e.getAttribute("data-extension-id")),onSuccess(e){var t=JSON.parse(e);o.serverError=0,o.compatibilityData=t.data,i(o)},onError(){i(o)}})},a.setResultView=function(i){var o="";void 0!==e.dir?e.dir:e.getElementsByTagName("html")[0].getAttribute("dir");if(i.serverError)o=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_SERVER_ERROR");else switch(i.compatibilityData.upgradeCompatibilityStatus.state){case a.STATE.COMPATIBLE:i.compatibilityData.upgradeWarning?(o='<span class="label label-warning">'+i.compatibilityData.upgradeCompatibilityStatus.compatibleVersion+"</span>",a.showyellowwarning=!0):o=0==i.compatibilityData.upgradeCompatibilityStatus.compatibleVersion?t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION"):i.compatibilityData.upgradeCompatibilityStatus.compatibleVersion;break;case a.STATE.INCOMPATIBLE:case a.STATE.MISSING_COMPATIBILITY_TAG:o=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION"),a.showorangewarning=!0;break;default:o=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")}if(i.element.innerHTML=o,o="",i.serverError)o=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_SERVER_ERROR");else switch(i.compatibilityData.currentCompatibilityStatus.state){case a.STATE.COMPATIBLE:o=0==i.compatibilityData.currentCompatibilityStatus.compatibleVersion?t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION"):i.compatibilityData.currentCompatibilityStatus.compatibleVersion;break;case a.STATE.INCOMPATIBLE:case a.STATE.MISSING_COMPATIBILITY_TAG:o=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION");break;default:o=t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")}var l=i.element.getAttribute("data-extension-id");e.getElementById("available-version-"+l).innerHTML=o;var n=e.querySelector("#compatibilitytype"+i.compatibilityData.resultGroup+" tbody");n&&n.appendChild(i.element.closest("tr")),e.getElementById("compatibilitytype"+i.compatibilityData.resultGroup).style.display="block",e.getElementById("compatibilitytype0").style.display="block",0==$("#compatibilitytype0 tbody td").length&&(e.getElementById("compatibilitytype0").style.display="none")},e.addEventListener("DOMContentLoaded",a.run,!1)}(document,Joomla);