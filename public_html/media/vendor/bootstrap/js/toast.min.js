import{_ as _objectSpread2}from"./carousel.js";import{B as BaseComponent,E as EventHandler,r as reflow,a as getTransitionDurationFromElement,e as emulateTransitionEnd,M as Manipulator,b as typeCheckConfig,D as Data,d as defineJQueryPlugin}from"./dom.min.js?1614049248";var NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=".".concat(DATA_KEY),EVENT_CLICK_DISMISS="click.dismiss".concat(EVENT_KEY),EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3},SELECTOR_DATA_DISMISS='[data-bs-dismiss="toast"]';class Toast extends BaseComponent{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._setListeners()}static get DefaultType(){return DefaultType}static get Default(){return Default}static get DATA_KEY(){return DATA_KEY}show(){if(!EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);var t=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),this._element.classList.add(CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_SHOWN),this._config.autohide&&(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay))};if(this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOWING),this._config.animation){var e=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,"transitionend",t),emulateTransitionEnd(this._element,e)}else t()}}hide(){if(this._element.classList.contains(CLASS_NAME_SHOW)&&!EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented){var t=()=>{this._element.classList.add(CLASS_NAME_HIDE),EventHandler.trigger(this._element,EVENT_HIDDEN)};if(this._element.classList.remove(CLASS_NAME_SHOW),this._config.animation){var e=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,"transitionend",t),emulateTransitionEnd(this._element,e)}else t()}}dispose(){this._clearTimeout(),this._element.classList.contains(CLASS_NAME_SHOW)&&this._element.classList.remove(CLASS_NAME_SHOW),EventHandler.off(this._element,EVENT_CLICK_DISMISS),super.dispose(),this._config=null}_getConfig(t){return t=_objectSpread2(_objectSpread2(_objectSpread2({},Default),Manipulator.getDataAttributes(this._element)),"object"==typeof t&&t?t:{}),typeCheckConfig(NAME,t,this.constructor.DefaultType),t}_setListeners(){EventHandler.on(this._element,EVENT_CLICK_DISMISS,SELECTOR_DATA_DISMISS,(()=>this.hide()))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){var e=Data.getData(this,DATA_KEY);if(e||(e=new Toast(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}if(defineJQueryPlugin(NAME,Toast),window.bootstrap=window.bootstrap||{},window.bootstrap.Toast=Toast,Joomla&&Joomla.getOptions){var toasts=Joomla.getOptions("bootstrap.toast");"object"==typeof toasts&&null!==toasts&&Object.keys(toasts).forEach((t=>{var e=toasts[t],s={animation:!e.animation||e.animation,autohide:!e.autohide||e.autohide,delay:e.delay?e.delay:5e3},i=Array.from(document.querySelectorAll(t));i.length&&i.map((t=>new window.bootstrap.Toast(t,s)))}))}export{Toast as T};