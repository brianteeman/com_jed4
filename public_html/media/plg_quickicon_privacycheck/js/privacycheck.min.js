(e=>{e.addEventListener("DOMContentLoaded",(()=>{const t=Joomla.getOptions("js-privacy-check"),n=t.plg_quickicon_privacycheck_ajax_url,a=t.plg_quickicon_privacycheck_url,s=t.plg_quickicon_privacycheck_text,c=e.getElementById("plg_quickicon_privacycheck"),r=c.querySelector("span.j-links-link");Joomla.request({url:n,method:"GET",data:"",perform:!0,onSuccess:t=>{try{const n=JSON.parse(t);if(n.data.number_urgent_requests){r.textContent=`${s.REQUESTFOUND} ${n.data.number_urgent_requests}`,c.classList.add("danger");const t=e.createElement("span");t.classList.add("label","label-important"),t.textContent=n.data.number_urgent_requests;const o=e.createElement("button");o.classList.add("btn","btn-primary"),o.setAttribute("onclick",`document.location='${a}'`),o.textContent=s.REQUESTFOUND_BUTTON;const d=e.createElement("div");d.classList.add("alert","alert-error","alert-joomlaupdate"),d.appendChild(t),d.insertAdjacentText("beforeend",` ${s.REQUESTFOUND_MESSAGE}`),d.appendChild(o);const i=e.querySelector("#system-message-container");i.insertBefore(d,i.firstChild)}else c.classList.add("success"),r.textContent=s.NOREQUEST}catch(e){c.classList.add("danger"),r.textContent=s.ERROR}},onError:()=>{c.classList.add("danger"),r.textContent=s.ERROR}})}))})(document);