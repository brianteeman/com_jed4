!function(e,a,t){"use strict";t.SampleData={inProgress:!1},t.sampledataAjax=function(e,r,s){var n="index.php?option=com_ajax&format=json&group=sampledata&".concat(t.getOptions("csrf.token"),"=1"),c=t.getOptions("sample-data"),o=a.createElement("li");o.classList.add("sampledata-steps-".concat(e,"-").concat(s));var l=a.createElement("p");l.classList.add("loader-image"),l.classList.add("text-center");var d=a.createElement("img");d.setAttribute("src",c.icon),d.setAttribute("width",30),d.setAttribute("height",30),l.appendChild(d),o.appendChild(l),a.querySelector(".sampledata-progress-".concat(e," ul")).appendChild(o),t.request({url:"".concat(n,"&type=").concat(e,"&plugin=SampledataApplyStep").concat(s,"&step=").concat(s),method:"GET",perform:!0,onSuccess:function(n){var c=o.querySelector(".loader-image");c.parentNode.removeChild(c);var l={};try{l=JSON.parse(n)}catch(a){return t.renderMessages({error:[t.JText._("MOD_SAMPLEDATA_INVALID_RESPONSE")]},".sampledata-steps-".concat(e,"-").concat(s)),void(t.SampleData.inProgress=!1)}var d,i="";if(l.success&&l.data&&l.data.length>0){var p=a.querySelector(".sampledata-progress-".concat(e," .progress-bar"));if(l.data.forEach((function(a){null!==a&&(d=a.success,i=d?"bg-success":"bg-danger",d?t.renderMessages({message:[a.message]},".sampledata-steps-".concat(e,"-").concat(s)):t.renderMessages({error:[a.message]},".sampledata-steps-".concat(e,"-").concat(s)))})),p.innerText="".concat(s,"/").concat(r),p.style.width="".concat(s/r*100,"%"),p.setAttribute("aria-valuemin",0),p.setAttribute("aria-valuemax",100),p.setAttribute("aria-valuenow",s/r*100),p.classList.add(i),d&&s<=r){var m=s+1;m<=r&&t.sampledataAjax(e,r,m)}}else t.renderMessages({error:[t.JText._("MOD_SAMPLEDATA_INVALID_RESPONSE")]},".sampledata-steps-".concat(e,"-").concat(s)),t.SampleData.inProgress=!1},onError:function(){alert("Something went wrong! Please close and reopen the browser and try again!")}})},t.sampledataApply=function(r){var s=r.getAttribute("data-type"),n=r.getAttribute("data-steps");if(!t.SampleData.inProgress){if(!r.getAttribute("data-processed"))return!!e.confirm(t.JText._("MOD_SAMPLEDATA_CONFIRM_START"))&&([].slice.call(a.querySelectorAll(".sampledata-progress-".concat(s))).forEach((function(e){e.classList.remove("d-none")})),r.getAttribute("data-processed",!0),t.SampleData.inProgress=!0,t.sampledataAjax(s,n,1),!1);alert(t.JText._("MOD_SAMPLEDATA_ITEM_ALREADY_PROCESSED"))}};a.addEventListener("DOMContentLoaded",(function e(){var r=a.getElementById("sample-data-wrapper");r&&[].slice.call(r.querySelectorAll(".apply-sample-data")).forEach((function(e){e.addEventListener("click",(function(e){var a=e.target;return t.sampledataApply(a)}))}));a.removeEventListener("DOMContentLoaded",e)}))}(window,document,window.Joomla);