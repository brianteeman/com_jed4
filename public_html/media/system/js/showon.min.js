function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}!function(e){"use strict";var i=function(){function i(t){var n=this;_classCallCheck(this,i);var o=this;this.container=t||e,this.fields={},this.showonFields=[].slice.call(this.container.querySelectorAll("[data-showon]")),this.showonFields.length&&(this.showonFields.forEach((function(e){if(!e.hasAttribute("data-showon-initialised")){e.setAttribute("data-showon-initialised","");var i,t=e.getAttribute("data-showon")||"",a=JSON.parse(t);a.length&&(i=[].slice.call(o.container.querySelectorAll('[name="'.concat(a[0].field,'"], [name="').concat(a[0].field,'[]"]'))),n.fields[a[0].field]||(n.fields[a[0].field]={origin:[],targets:[]}),i.forEach((function(e){-1===n.fields[a[0].field].origin.indexOf(e)&&n.fields[a[0].field].origin.push(e)})),n.fields[a[0].field].targets.push(e),a.length>1&&a.forEach((function(t,l){0!==l&&(i=[].slice.call(o.container.querySelectorAll('[name="'.concat(t.field,'"], [name="').concat(t.field,'[]"]'))),n.fields[a[0].field]||(n.fields[a[0].field]={origin:[],targets:[]}),i.forEach((function(e){-1===n.fields[a[0].field].origin.indexOf(e)&&n.fields[a[0].field].origin.push(e)})),-1===n.fields[a[0].field].targets.indexOf(e)&&n.fields[a[0].field].targets.push(e))})))}})),this.linkedOptions=this.linkedOptions.bind(this),Object.keys(this.fields).forEach((function(e){n.fields[e].origin.length&&n.fields[e].origin.forEach((function(i){o.linkedOptions(e),i.addEventListener("change",(function(){o.linkedOptions(e)})),i.addEventListener("keyup",(function(){o.linkedOptions(e)})),i.addEventListener("click",(function(){o.linkedOptions(e)}))}))})))}return _createClass(i,[{key:"linkedOptions",value:function(i){var t=this;this.fields[i].targets.forEach((function(n){var o,a=JSON.parse(n.getAttribute("data-showon"))||[],l=!0;a.forEach((function(n,s){var r=n||{};r.valid=0,t.fields[i].origin.forEach((function(i){if(i.name===n.field){var t=i.id;if(i.getAttribute("type")&&-1!==["checkbox","radio"].indexOf(i.getAttribute("type").toLowerCase())){if(!i.checked)return;o=e.getElementById(t).value}else null===(o=e.getElementById(t).value)&&"select"===i.tagName.toLowerCase()&&(o=[]);"object"!==_typeof(o)&&(o=JSON.parse('["'.concat(o,'"]'))),o.forEach((function(e){"="===r.sign&&-1!==r.values.indexOf(e)&&(r.valid=1),"!="===r.sign&&-1===r.values.indexOf(e)&&(r.valid=1)}))}})),""===r.op?0===r.valid&&(l=!1):("AND"===r.op&&r.valid+a[s-1].valid<2&&(l=!1,r.valid=0),"OR"===r.op&&r.valid+a[s-1].valid>0&&(l=!0,r.valid=1))})),"option"!==n.tagName?l?n.classList.remove("hidden"):n.classList.add("hidden"):n.disabled=!l}))}}]),i}();window.Joomla=window.Joomla||{},Joomla.Showon||(Joomla.Showon={initialise:function(e){return new i(e)}}),e.addEventListener("DOMContentLoaded",(function(){Joomla.Showon.initialise(e)})),e.addEventListener("joomla:updated",(function(e){var i=e.target;if(i.classList.contains("subform-repeatable-group")){var t=[].slice.call(i.querySelectorAll("[data-showon]")),n=new RegExp("\\[".concat(i.dataset.baseName,"X\\]"),"g"),o="[".concat(i.dataset.group,"]");t.forEach((function(e){var i=e.dataset.showon.replace(n,o);e.dataset.showon=i}))}Joomla.Showon.initialise(i)}))}(document);