((e,t)=>{"use strict";const s=()=>{if(t.getOptions("js-extensions-update")){const s=t.getOptions("js-joomla-update"),n=(t,s)=>{const n=e.getElementById("plg_quickicon_joomlaupdate"),o=[].slice.call(n.querySelectorAll("span.j-links-link"));n&&n.classList.add(t),o.length&&o.forEach((e=>{e.innerHTML=s}))};t.request({url:s.ajaxUrl,method:"GET",data:"",perform:!0,onSuccess:e=>{const o=JSON.parse(e);if(Array.isArray(o))if(0===o.length)n("success",t.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"));else{const e=o.shift();e.version!==s.version?n("danger",t.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",`<span class="badge text-dark bg-light"> â€Ž ${e.version}</span>`)):n("success",t.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"))}else n("danger",t.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))},onError:()=>{n("danger",t.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))}})}},n=()=>{if(!t||"function"!=typeof t.getOptions||!t.getOptions("js-joomla-update"))throw new Error("Script is not properly initialised");setTimeout(s,2e3),e.removeEventListener("DOMContentLoaded",n)};e.addEventListener("DOMContentLoaded",n)})(document,Joomla);