((e,t,o)=>{o.unpublishModule=e=>{const t=e.getAttribute("data-module-id");o.request({url:`index.php?option=com_modules&task=modules.unpublish&format=json&cid=${t}`,method:"POST",headers:{"Content-Type":"application/json"},onSuccess:()=>{const t=e.closest(".module-wrapper");t.parentNode.removeChild(t),o.renderMessages({message:[o.JText._("COM_CPANEL_UNPUBLISH_MODULE_SUCCESS")]})},onError:()=>{o.renderMessages({error:[o.JText._("COM_CPANEL_UNPUBLISH_MODULE_ERROR")]})}})};const r=()=>{const e=t.getElementById("content");if(e){[].slice.call(e.querySelectorAll(".unpublish-module")).forEach((e=>{e.addEventListener("click",(({target:e})=>o.unpublishModule(e)))}))}t.removeEventListener("DOMContentLoaded",r)};t.addEventListener("DOMContentLoaded",r);const i={$gridBox:null,resizeGridItem(e,t,o){const r=e.querySelector(".card");if(r){const i=r.getBoundingClientRect().height+o,n=Math.ceil(i/(t+o));e.style.gridRowEnd=`span ${n}`}},resizeAllGridItems(){const t=[].slice.call(i.$gridBox.children),o=e.getComputedStyle(i.$gridBox),r=parseInt(o.getPropertyValue("grid-auto-rows"),10)||0,n=parseInt(o.getPropertyValue("grid-row-gap"),10)||10;t.forEach((e=>{i.resizeGridItem(e,r,n)}))},initialise(){let o;i.$gridBox=t.querySelector("#cpanel-modules .card-columns"),i.resizeAllGridItems(),e.addEventListener("resize",(()=>{e.clearTimeout(o),o=e.setTimeout(i.resizeAllGridItems,300)}))}};e.addEventListener("load",i.initialise)})(window,document,window.Joomla);