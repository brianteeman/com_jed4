!function(e,t,n){n.unpublishModule=function(e){var t=e.getAttribute("data-module-id");n.request({url:"".concat("index.php?option=com_modules&task=modules.unpublish&format=json","&cid=").concat(t),method:"POST",headers:{"Content-Type":"application/json"},onSuccess:function(){var t=e.closest(".module-wrapper");t.parentNode.removeChild(t),n.renderMessages({message:[n.JText._("COM_CPANEL_UNPUBLISH_MODULE_SUCCESS")]})},onError:function(){n.renderMessages({error:[n.JText._("COM_CPANEL_UNPUBLISH_MODULE_ERROR")]})}})};t.addEventListener("DOMContentLoaded",(function e(){var r=t.getElementById("content");r&&[].slice.call(r.querySelectorAll(".unpublish-module")).forEach((function(e){e.addEventListener("click",(function(e){var t=e.target;return n.unpublishModule(t)}))}));t.removeEventListener("DOMContentLoaded",e)}));var r={$gridBox:null,resizeGridItem:function(e,t,n){var r=e.querySelector(".card");if(r){var o=r.getBoundingClientRect().height+n,i=Math.ceil(o/(t+n));e.style.gridRowEnd="span ".concat(i)}},resizeAllGridItems:function(){var t=[].slice.call(r.$gridBox.children),n=e.getComputedStyle(r.$gridBox),o=parseInt(n.getPropertyValue("grid-auto-rows"),10)||0,i=parseInt(n.getPropertyValue("grid-row-gap"),10)||10;t.forEach((function(e){r.resizeGridItem(e,o,i)}))},initialise:function(){var n;r.$gridBox=t.querySelector("#cpanel-modules .card-columns"),r.resizeAllGridItems(),e.addEventListener("resize",(function(){e.clearTimeout(n),n=e.setTimeout(r.resizeAllGridItems,300)}))}};e.addEventListener("load",r.initialise)}(window,document,window.Joomla);