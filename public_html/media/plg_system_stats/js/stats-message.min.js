Joomla=window.Joomla||{},function(e,t){"use strict";var n=function(e){var n=t.getElementById("system-message-container"),s=n.querySelector(".js-pstats-alert"),a=n.querySelector("#js-pstats-data-details");t.addEventListener("click",(function(e){e.target.classList.contains("js-pstats-btn-details")&&(e.preventDefault(),a.classList.toggle("d-none"))})),t.addEventListener("click",(function(t){t.target.classList.contains("js-pstats-btn-allow-always")&&(t.preventDefault(),s.close(),e({plugin:"sendAlways"}))})),t.addEventListener("click",(function(t){t.target.classList.contains("js-pstats-btn-allow-once")&&(t.preventDefault(),s.close(),e({plugin:"sendOnce"}))})),t.addEventListener("click",(function(t){t.target.classList.contains("js-pstats-btn-allow-never")&&(t.preventDefault(),s.close(),e({plugin:"sendNever"}))}))},s=function s(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.plugin,r=void 0===o?"sendStats":o,c="index.php?option=com_ajax&group=system&plugin=".concat(r,"&format=raw"),i=t.getElementById("system-message-container");e.request({url:c,headers:{"Content-Type":"application/json"},onSuccess:function(e){try{var t=JSON.parse(e);t&&t.html&&(i.insertAdjacentHTML("beforeend",t.html),i.querySelector(".js-pstats-alert").classList.remove("hidden"),n(s))}catch(e){throw new Error(e)}},onError:function(t){e.renderMessages({error:[t.response]})}})};t.addEventListener("DOMContentLoaded",(function(){s()}))}(Joomla,document);